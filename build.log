./compile-with-docker.sh Fusion
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.58kB done
#1 DONE 0.0s

#2 [internal] load metadata for mcr.microsoft.com/devcontainers/python:3.10-bookworm
#2 DONE 0.1s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/4] FROM mcr.microsoft.com/devcontainers/python:3.10-bookworm@sha256:66459dda9d8271ebb6c49958aef7966071e8e1f7396154935fe807b2ab5b37c9
#4 DONE 0.0s

#5 [2/4] RUN apt-get update && apt-get install -y --no-install-recommends     build-essential cmake ninja-build python3 curl xz-utils ca-certificates  && rm -rf /var/lib/apt/lists/*
#5 CACHED

#6 [3/4] RUN set -e;     BASE_ARCH="amd64";     if [ -z "$BASE_ARCH" ]; then BASE_ARCH="$(uname -m)"; fi;     case "$BASE_ARCH" in       amd64|x86_64)  HOSTARCH="x86_64" ;;       arm64|aarch64) HOSTARCH="aarch64" ;;       *)             HOSTARCH="x86_64" ;;     esac;     TARBALL="arm-gnu-toolchain-13.3.rel1-${HOSTARCH}-arm-none-eabi.tar.xz";     URL="https://armkeil.blob.core.windows.net/developer/Files/downloads/gnu/13.3.rel1/binrel/${TARBALL}";     echo "Downloading ${URL}";     curl -fL -O "${URL}";     tar -xf "${TARBALL}";     rm "${TARBALL}";     DIR="$(ls -d arm-gnu-toolchain-13.3.rel1-*-arm-none-eabi)";     mv "${DIR}" /opt/toolchain
#6 CACHED

#7 [4/4] WORKDIR /src
#7 CACHED

#8 exporting to image
#8 exporting layers done
#8 writing image sha256:8d8ad6bf592c97598c543076d1d0f35ad26eb2e25f7fd67dffb4b51c2480e1d9 done
#8 naming to docker.io/library/uvk1-uvk5v3 done
#8 DONE 0.0s

=== ðŸš€ Building preset: Fusion ===
---------------------------------------------
/opt/toolchain/bin/arm-none-eabi-gcc
arm-none-eabi-gcc (Arm GNU Toolchain 13.3.Rel1 (Build arm-13.24)) 13.3.1 20240614
Copyright (C) 2023 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Preset CMake variables:

  // âš™ï¸="System Behavior & Logic"
  // ï¿½="UART Command Extensions"
  // ðŸ—ï¸="Project Settings"
  // ðŸ“»="Radio & Signal Processing"
  // ðŸ–¥ï¸="Display & UI Aesthetics"
  // ðŸ› ï¸="Advanced Developer Options"
  // ðŸ›°ï¸="Connectivity & Debug"
  // ðŸ§©="Applications & Specialized Modes"
  CMAKE_BUILD_TYPE="Release"
  CMAKE_TOOLCHAIN_FILE:FILEPATH="/src/cmake/gcc-arm-none-eabi.cmake"
  EDITION_STRING="Fusion"
  ENABLE_AGC_SHOW_DATA:BOOL="FALSE"
  ENABLE_AIRCOPY:BOOL="FALSE"
  ENABLE_ALARM:BOOL="FALSE"
  ENABLE_APP_BREAKOUT_GAME:BOOL="FALSE"
  ENABLE_AUDIO_BAR:BOOL="TRUE"
  ENABLE_BIG_FREQ:BOOL="TRUE"
  ENABLE_BLMIN_TMP_OFF:BOOL="FALSE"
  ENABLE_BOOT_BEEPS:BOOL="FALSE"
  ENABLE_BOOT_RESUME_STATE:BOOL="TRUE"
  ENABLE_BYP_RAW_DEMODULATORS:BOOL="TRUE"
  ENABLE_COPY_CHAN_TO_VFO:BOOL="TRUE"
  ENABLE_CTCSS_TAIL_PHASE_SHIFT:BOOL="FALSE"
  ENABLE_CUSTOM_FIRMWARE_MODS:BOOL="TRUE"
  ENABLE_CUSTOM_MENU_LAYOUT:BOOL="TRUE"
  ENABLE_CW_KEYER:BOOL="TRUE"
  ENABLE_DEEP_SLEEP_MODE:BOOL="TRUE"
  ENABLE_DTMF_CALLING:BOOL="FALSE"
  ENABLE_EEPROM_HEXDUMP:BOOL="TRUE"
  ENABLE_FASTER_CHANNEL_SCAN:BOOL="TRUE"
  ENABLE_FIRMWARE_DEBUG_LOGGING:BOOL="FALSE"
  ENABLE_FLASHLIGHT:BOOL="TRUE"
  ENABLE_FMRADIO:BOOL="FALSE"
  ENABLE_FREQUENCY_LOCK_REGION_CA:BOOL="TRUE"
  ENABLE_F_CAL_MENU:BOOL="FALSE"
  ENABLE_GMRS_FRS_MURS_BANDS:BOOL="TRUE"
  ENABLE_IDENTIFIER:BOOL="TRUE"
  ENABLE_INVERTED_LCD_MODE:BOOL="TRUE"
  ENABLE_KEEP_MEM_NAME:BOOL="TRUE"
  ENABLE_LCD_CONTRAST_OPTION:BOOL="TRUE"
  ENABLE_NARROWER_BW_FILTER:BOOL="TRUE"
  ENABLE_NAVIG_LEFT_RIGHT:BOOL="TRUE"
  ENABLE_NOAA:BOOL="FALSE"
  ENABLE_NO_CODE_SCAN_TIMEOUT:BOOL="TRUE"
  ENABLE_PMR446_FREQUENCY_BAND:BOOL="TRUE"
  ENABLE_PWRON_PASSWORD:BOOL="FALSE"
  ENABLE_REDUCE_LOW_MID_TX_POWER:BOOL="FALSE"
  ENABLE_REGA:BOOL="FALSE"
  ENABLE_RESCUE_OPERATIONS:BOOL="FALSE"
  ENABLE_RESET_CHANNEL_FUNCTION:BOOL="FALSE"
  ENABLE_REVERSE_BAT_SYMBOL:BOOL="FALSE"
  ENABLE_RSSI_BAR:BOOL="TRUE"
  ENABLE_RX_TX_TIMER_DISPLAY:BOOL="TRUE"
  ENABLE_SCAN_RANGES:BOOL="TRUE"
  ENABLE_SERIAL_SCREENCAST:BOOL="TRUE"
  ENABLE_SHOW_CHARGE_LEVEL:BOOL="FALSE"
  ENABLE_SMALL_BOLD:BOOL="TRUE"
  ENABLE_SPECTRUM:BOOL="TRUE"
  ENABLE_SPECTRUM_EXTENSIONS:BOOL="TRUE"
  ENABLE_SQUELCH_MORE_SENSITIVE:BOOL="TRUE"
  ENABLE_SWD:BOOL="TRUE"
  ENABLE_SYSTEM_INFO_MENU:BOOL="FALSE"
  ENABLE_TX1750:BOOL="TRUE"
  ENABLE_TX_NON_FM:BOOL="TRUE"
  ENABLE_UART:BOOL="TRUE"
  ENABLE_UART_CMD_BATT:BOOL="TRUE"
  ENABLE_UART_CMD_ID:BOOL="TRUE"
  ENABLE_UART_CMD_RSSI:BOOL="TRUE"
  ENABLE_UART_RW_BK_REGS:BOOL="FALSE"
  ENABLE_USB:BOOL="TRUE"
  ENABLE_USBC_CHARGING_INDICATOR:BOOL="TRUE"
  ENABLE_VOICE:BOOL="FALSE"
  ENABLE_VOX:BOOL="FALSE"
  ENABLE_WIDE_RX:BOOL="TRUE"
  TARGET="deltafw.fusion"
  VERSION_STRING_1="deltafw"
  VERSION_STRING_2="v1.0.6"

-- The C compiler identification is GNU 13.3.1
-- The CXX compiler identification is GNU 13.3.1
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /opt/toolchain/bin/arm-none-eabi-gcc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /opt/toolchain/bin/arm-none-eabi-g++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
Build type: Release
-- The ASM compiler identification is GNU
-- Found assembler: /opt/toolchain/bin/arm-none-eabi-gcc
Git commit: e64a58d
Build date: 2026-02-07 14:37:20
EXE_NAME = deltafw.fusion
Output file: deltafw.fusion.v1.0.6.e64a58d.07022026
CMAKE_OBJCOPY: arm-none-eabi-objcopy
-- Configuring done
-- Generating done
CMake Warning:
  Manually-specified variables were not used by the project:

    // âš™ï¸
    // ï¿½
    // ðŸ—ï¸
    // ðŸ“»
    // ðŸ–¥ï¸
    // ðŸ› ï¸
    // ðŸ›°ï¸
    // ðŸ§©
    ENABLE_NAVIG_LEFT_RIGHT


-- Build files have been written to: /src/build/Fusion
[1/88] Building ASM object CMakeFiles/deltafw.fusion.dir/src/core/startup_py32f071xx.s.obj
[2/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_pwr.c.obj
[3/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_crc.c.obj
[4/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/Src/main.c.obj
[5/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_adc.c.obj
[6/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_exti.c.obj
[7/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/Src/system_py32f071.c.obj
[8/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_gpio.c.obj
[9/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_i2c.c.obj
[10/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_utils.c.obj
[11/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_dma.c.obj
[12/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_comp.c.obj
[13/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/version.c.obj
[14/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_lptim.c.obj
[15/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/Src/py32f071_it.c.obj
[16/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/init.c.obj
[17/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_rtc.c.obj
[18/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/misc.c.obj
[19/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_spi.c.obj
[20/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_dac.c.obj
[21/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_usart.c.obj
[22/88] Building C object CMakeFiles/deltafw.fusion.dir/src/audio.c.obj
[23/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/scheduler.c.obj
[24/88] Building C object CMakeFiles/deltafw.fusion.dir/src/core/main.c.obj
[25/88] Building C object CMakeFiles/deltafw.fusion.dir/src/frequencies.c.obj
[26/88] Building C object CMakeFiles/deltafw.fusion.dir/src/ui/font.c.obj
[27/88] Building C object CMakeFiles/deltafw.fusion.dir/src/dcs.c.obj
[28/88] Building C object CMakeFiles/deltafw.fusion.dir/src/ui/bitmaps.c.obj
[29/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_rcc.c.obj
[30/88] Building C object CMakeFiles/deltafw.fusion.dir/src/functions.c.obj
[31/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/common.c.obj
[32/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/hal/Src/py32f071_ll_tim.c.obj
[33/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/scanner/chFrScanner.c.obj
[34/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/generic.c.obj
[35/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/gpio.c.obj
[36/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/settings/settings_ui.c.obj
[37/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/action.c.obj
[38/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/dtmf.c.obj
[39/88] Building C object CMakeFiles/deltafw.fusion.dir/src/radio.c.obj
[40/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/settings/settings.c.obj
[41/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/main_screen.c.obj
[42/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/i2c.c.obj
[43/88] Building C object CMakeFiles/deltafw.fusion.dir/src/board.c.obj
[44/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/system.c.obj
[45/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/py25q16.c.obj
[46/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/keyboard.c.obj
[47/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/systick.c.obj
[48/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/backlight.c.obj
[49/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/battery/battery_ui.c.obj
[50/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/scanner/scanner.c.obj
[51/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/battery/battery.c.obj
FAILED: CMakeFiles/deltafw.fusion.dir/src/apps/battery/battery.c.obj 
/opt/toolchain/bin/arm-none-eabi-gcc -DALERT_TOT=10 -DAUTHOR_STRING=\"qshosfw\" -DAUTHOR_STRING_1=\"qshosfw\" -DAUTHOR_STRING_2=\"deltafw\" -DBUILD_DATE="\"2026-02-07 14:37:20\"" -DEDITION_STRING=\"Fusion\" -DENABLE_AUDIO_BAR -DENABLE_BIG_FREQ -DENABLE_BOOT_RESUME_STATE -DENABLE_BYP_RAW_DEMODULATORS -DENABLE_COPY_CHAN_TO_VFO -DENABLE_CUSTOM_FIRMWARE_MODS -DENABLE_CUSTOM_MENU_LAYOUT -DENABLE_CW_KEYER -DENABLE_DEEP_SLEEP_MODE -DENABLE_EEPROM_HEXDUMP -DENABLE_FASTER_CHANNEL_SCAN -DENABLE_FLASHLIGHT -DENABLE_FREQUENCY_LOCK_REGION_CA -DENABLE_GMRS_FRS_MURS_BANDS -DENABLE_IDENTIFIER -DENABLE_INVERTED_LCD_MODE -DENABLE_KEEP_MEM_NAME -DENABLE_LCD_CONTRAST_OPTION -DENABLE_NARROWER_BW_FILTER -DENABLE_NO_CODE_SCAN_TIMEOUT -DENABLE_PMR446_FREQUENCY_BAND -DENABLE_RSSI_BAR -DENABLE_RX_TX_TIMER_DISPLAY -DENABLE_SCAN_RANGES -DENABLE_SERIAL_SCREENCAST -DENABLE_SMALL_BOLD -DENABLE_SPECTRUM -DENABLE_SPECTRUM_EXTENSIONS -DENABLE_SQUELCH_MORE_SENSITIVE -DENABLE_SWD -DENABLE_TX1750 -DENABLE_TX_NON_FM -DENABLE_UART -DENABLE_UART_CMD_BATT -DENABLE_UART_CMD_ID -DENABLE_UART_CMD_RSSI -DENABLE_USB -DENABLE_USBC_CHARGING_INDICATOR -DENABLE_WIDE_RX -DGIT_COMMIT_HASH=\"e64a58d\" -DPRINTF_INCLUDE_CONFIG_H -DPY32F071x8 -DSQL_TONE=550 -DUSE_FULL_LL_DRIVER -DVERSION_STRING=\"v1.0.6\" -DVERSION_STRING_1=\"deltafw\" -DVERSION_STRING_2=\"v1.0.6\" -I/src/src/core/Inc -I/src/src/drivers/hal/Inc -I/src/src/drivers/cmsis/Include -I/src/src/drivers/cmsis/Device/PY32F071/Include -I/src/src/. -I/src/src/usb -I/src/src/middlewares/CherryUSB/core -I/src/src/middlewares/CherryUSB/port -I/src/src/middlewares/CherryUSB/common -I/src/src/middlewares/CherryUSB/class/cdc -mcpu=cortex-m0plus  -Wall -fdata-sections -ffunction-sections -mcpu=cortex-m0plus  -Wall -fdata-sections -ffunction-sections -Os -g0 -std=gnu11 -MD -MT CMakeFiles/deltafw.fusion.dir/src/apps/battery/battery.c.obj -MF CMakeFiles/deltafw.fusion.dir/src/apps/battery/battery.c.obj.d -o CMakeFiles/deltafw.fusion.dir/src/apps/battery/battery.c.obj -c /src/src/apps/battery/battery.c
/src/src/apps/battery/battery.c: In function 'BATTERY_GetReadings':
/src/src/apps/battery/battery.c:155:50: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                  ^
/src/src/apps/battery/battery.c:155:51: error: unknown type name 'n'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                   ^
/src/src/apps/battery/battery.c:155:68: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'perc'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                    ^~~~
/src/src/apps/battery/battery.c:155:122: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                          ^
/src/src/apps/battery/battery.c:155:124: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                            ^
/src/src/apps/battery/battery.c:155:123: error: unknown type name 'n'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                           ^
/src/src/apps/battery/battery.c:155:134: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'for'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                      ^~~
/src/src/apps/battery/battery.c:155:153: error: 'i' undeclared (first use in this function)
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                         ^
/src/src/apps/battery/battery.c:155:153: note: each undeclared identifier is reported only once for each function it appears in
/src/src/apps/battery/battery.c:155:164: error: expected ';' before ')' token
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                    ^
      |                                                                                                                                                                    ;
/src/src/apps/battery/battery.c:155:164: error: expected statement before ')' token
/src/src/apps/battery/battery.c:155:166: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                      ^
/src/src/apps/battery/battery.c:155:167: error: 'n' undeclared (first use in this function)
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                       ^
/src/src/apps/battery/battery.c:155:168: error: expected ';' before 'if'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                        ^           ~~
      |                                                                                                                                                                        ;
/src/src/apps/battery/battery.c:155:205: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                             ^
/src/src/apps/battery/battery.c:155:248: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                        ^
/src/src/apps/battery/battery.c:155:272: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                ^
/src/src/apps/battery/battery.c:155:287: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                               ^
/src/src/apps/battery/battery.c:155:298: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                          ^
/src/src/apps/battery/battery.c:155:300: error: expected ';' before '}' token
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                            ^   ~
      |                                                                                                                                                                                                                                                                                                            ;
/src/src/apps/battery/battery.c:155:23: warning: unused variable 'levels' [-Wunused-variable]
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                       ^~~~~~
/src/src/apps/battery/battery.c:155:305: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                 ^
/src/src/apps/battery/battery.c:155:307: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                   ^
/src/src/apps/battery/battery.c:155:307: error: expected ';' before 'n'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                   ^~
      |                                                                                                                                                                                                                                                                                                                   ;
/src/src/apps/battery/battery.c:155:394: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                                                                                                          ^
/src/src/apps/battery/battery.c:155:426: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                                                                                                                                          ^
/src/src/apps/battery/battery.c:155:428: error: stray '\' in program
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                                                                                                                                            ^
/src/src/apps/battery/battery.c:155:428: error: expected ';' before 'n'
  155 |         const uint8_t levels[] = {5,17,41,65,88};\n        uint8_t perc = BATTERY_VoltsToPercent(gBatteryVoltageAverage);\n\n        for(uint8_t i = 6; i >= 2; i--){\n            if (perc > levels[i-2]) {\n                gBatteryDisplayLevel = i;\n                break;\n            }\n        }\n    }\n\n    if ((gScreenToDisplay == DISPLAY_MENU) && UI_MENU_GetCurrentMenuId() == MENU_VOL)\n        gUpdateDisplay = true;\n\n    // --- Advanced Charging Detection Logic ---\n\n    // 1. TX Protection: Pause detection during TX and for a cooldown period\n    if (gCurrentFunction == FUNCTION_TRANSMIT) {\n        TxCooldown = 2; // ~1 second cooldown (assuming 500ms tick)\n        return;\n    }\n    if (TxCooldown > 0) {\n        TxCooldown--;\n        return;\n    }\n\n    // 2. Slope / Resting Floor Detection\n    if (BaseVoltage == 0) BaseVoltage = gBatteryVoltageAverage;\n\n    const uint16_t Threshold = 5; // 50mV - Higher sensitivity with EMA\n\n    if (!gIsCharging) {\n        if (gBatteryVoltageAverage > (BaseVoltage + Threshold)) {\n            if (ChargingCounter < 10) ChargingCounter++;\n        } else {\n            if (ChargingCounter > 0) ChargingCounter--;\n            // Track floor downwards immediately\n            if (gBatteryVoltageAverage < BaseVoltage) {\n                BaseVoltage = gBatteryVoltageAverage;\n            } else {\n                 // Slowly track base upwards if we are steady but below threshold\n                 // This handles slow natural voltage recovery without triggering charge\n                 static uint8_t driftCounter = 0;\n                 if (++driftCounter > 10) { // Every ~5 seconds\n                     BaseVoltage++;\n                     driftCounter = 0;\n                 }\n            }\n        }\n\n        if (ChargingCounter >= 4) { // ~2 seconds of sustained high voltage (> Base + 50mV)\n            gIsCharging = true;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BACKLIGHT_TurnOn();\n            BaseVoltage = gBatteryVoltageAverage; // Reset base to the new "charging floor"\n        }\n    } else {\n        // We are already in "Charging" state.\n        // Track the peak voltage seen while charging.\n        if (gBatteryVoltageAverage > BaseVoltage) {\n            BaseVoltage = gBatteryVoltageAverage;\n        } else if (gBatteryVoltageAverage < (BaseVoltage - 7)) {\n            // Sudden drop of 7 units (70mV) from the peak - unplugged!\n            gIsCharging = false;\n            ChargingCounter = 0;\n            gUpdateStatus = true;\n            gUpdateDisplay = true;\n            BaseVoltage = gBatteryVoltageAverage;\n        }\n    }\n    // --------------------------------
      |                                                                                                                                                                                                                                                                                                                                                                                                                                            ^~
      |                                                                                                                                                                                                                                                                                                                                                                                                                                            ;
/src/src/apps/battery/battery.c:138:20: warning: unused variable 'PreviousBatteryLevel' [-Wunused-variable]
  138 |     const uint8_t  PreviousBatteryLevel = gBatteryDisplayLevel;
      |                    ^~~~~~~~~~~~~~~~~~~~
/src/src/apps/battery/battery.c:136:21: warning: unused variable 'TxCooldown' [-Wunused-variable]
  136 |     static uint16_t TxCooldown = 0;
      |                     ^~~~~~~~~~
/src/src/apps/battery/battery.c:135:21: warning: unused variable 'BaseVoltage' [-Wunused-variable]
  135 |     static uint16_t BaseVoltage = 0;
      |                     ^~~~~~~~~~~
/src/src/apps/battery/battery.c:134:21: warning: unused variable 'ChargingCounter' [-Wunused-variable]
  134 |     static uint16_t ChargingCounter = 0;
      |                     ^~~~~~~~~~~~~~~
[52/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/st7565.c.obj
[53/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/sysinfo/sysinfo.c.obj
[54/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/scanner/scanner_ui.c.obj
[55/88] Building C object CMakeFiles/deltafw.fusion.dir/src/drivers/bsp/bk4829.c.obj
[56/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/launcher/launcher.c.obj
/src/src/apps/launcher/launcher.c:88:13: warning: 'LA_AirCopy' defined but not used [-Wunused-function]
   88 | static bool LA_AirCopy(const MenuItem *item, KEY_Code_t key, bool key_pressed, bool key_held) {
      |             ^~~~~~~~~~
/src/src/apps/launcher/launcher.c:66:13: warning: 'LA_FM' defined but not used [-Wunused-function]
   66 | static bool LA_FM(const MenuItem *item, KEY_Code_t key, bool key_pressed, bool key_held) {
      |             ^~~~~
[57/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/menu.c.obj
[58/88] Building C object CMakeFiles/deltafw.fusion.dir/src/ui/inputbox.c.obj
[59/88] Building C object CMakeFiles/deltafw.fusion.dir/src/features/app.c.obj
[60/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/boot/boot.c.obj
[61/88] Building C object CMakeFiles/deltafw.fusion.dir/src/ui/helper.c.obj
[62/88] Building C object CMakeFiles/deltafw.fusion.dir/src/ui/menu.c.obj
[63/88] Building C object CMakeFiles/deltafw.fusion.dir/src/apps/memories/memories.c.obj
[64/88] Building C object CMakeFiles/deltafw.fusion.dir/src/ui/main.c.obj
ninja: build stopped: subcommand failed.
make: *** [Makefile:16: fusion] Error 1
